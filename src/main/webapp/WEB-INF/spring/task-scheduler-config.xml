<beans xmlns="http://www.springframework.org/schema/beans"
	   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	   xmlns:task="http://www.springframework.org/schema/task"
	   xsi:schemaLocation="http://www.springframework.org/schema/beans
						   http://www.springframework.org/schema/beans/spring-beans.xsd
						   http://www.springframework.org/schema/task
						   http://www.springframework.org/schema/task/spring-task.xsd">

	<!-- Configure scheduler with proper thread pool and shutdown -->
	<task:scheduler id="taskScheduler" pool-size="2" />
	
	<!-- Configure async executor with proper thread pool and shutdown -->
	<task:executor id="taskExecutor" 
				   pool-size="2-10" 
				   queue-capacity="25" 
				   rejection-policy="CALLER_RUNS" />
	
	<!-- Enable scheduling and async annotations with both scheduler and executor -->
	<task:annotation-driven scheduler="taskScheduler" executor="taskExecutor" />
</beans>
